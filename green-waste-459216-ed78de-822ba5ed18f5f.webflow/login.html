<!DOCTYPE html><!--  This site was created in Webflow. https://www.webflow.com  -->
<!--  Last Published: Thu Feb 16 2023 20:15:41 GMT+0000 (Coordinated Universal Time)  -->
<html data-wf-page="63e534fd4f333de63c139ac4" data-wf-site="63e534fd4f333d4f7f139aa2">
<head>
  <meta charset="utf-8">
  <title>Log In</title>
  <meta content="Log In" property="og:title">
  <meta content="Log In" property="twitter:title">
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <meta content="Webflow" name="generator">
  <link href="css/normalize.css" rel="stylesheet" type="text/css">
  <link href="css/webflow.css" rel="stylesheet" type="text/css">
  <link href="css/green-waste-459216-ed78de-822ba5ed18f5f.webflow.css" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script>
  <script type="text/javascript">WebFont.load({  google: {    families: ["Montserrat:100,100italic,200,200italic,300,300italic,400,400italic,500,500italic,600,600italic,700,700italic,800,800italic,900,900italic","Merriweather:300,300italic,400,400italic,700,700italic,900,900italic"]  }});</script>
  <!-- [if lt IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js" type="text/javascript"></script><![endif] -->
  <script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>
  <link href="images/favicon.ico" rel="shortcut icon" type="image/x-icon">
  <link href="images/webclip.png" rel="apple-touch-icon">
</head>
<body class="body-12">
  <div data-collapse="medium" data-animation="over-left" data-duration="400" data-easing="linear" data-easing2="ease-in" role="banner" class="navigation w-nav">
    <div class="navigation-wrap">
      <a href="index.html" class="logo-link w-nav-brand">Green Waste </a>
      <div class="menu">
        <nav role="navigation" class="navigation-items w-nav-menu">
          <a id="About" href="#" class="navigation-item w-nav-link">About us</a>
          <a href="index.html" class="navigation-item w-nav-link">Services</a>
        </nav>
      </div>
    </div>
  </div>
  <div class="section-8 wf-section">
    <div class="f-account-section">
      <div class="div-block-14"></div><img src="images/log-in.jpg" loading="lazy" sizes="(max-width: 1439px) 100vw, 560px" srcset="images/log-in-p-500.jpg 500w, images/log-in-p-800.jpg 800w, images/log-in-p-1080.jpg 1080w, images/log-in-p-1600.jpg 1600w, images/log-in-p-2000.jpg 2000w, images/log-in.jpg 2575w" alt="" class="image-26">
      <div class="f-account-container-r-2">
        <div class="f-account-content-wrapper">
          <div class="f-margin-bottom-08">
            <h5 class="f-h5-heading">Login</h5>
          </div>
          <div class="f-account-form-block w-form">
            <form id="wf-form-Sign-In-2" name="wf-form-Sign-In-2" data-name="Sign In" method="get">
              <div class="w-layout-grid f-account-input-grid">
                <div class="f-field-wrapper">
                  <div class="f-field-label-2">Email</div>
                </div><input type="text" class="text-field-28 w-node-bb6e5f37-3489-1b7d-d966-56985339440d-3c139ac4 w-input" maxlength="256" name="field" data-name="Field" placeholder="Enter your email..." id="Email-Field-02" required="">
                <div class="f-field-wrapper">
                  <div class="f-field-label-2">Password</div><input type="password" class="text-field-27 w-input" maxlength="256" name="field" data-name="Field" placeholder="Enter your password..." id="Password-Field-02" required="">
                </div>
              </div>
              <div class="f-account-form-button">
                <a id="checkUser" href="#" class="loginbutton w-button">Log In</a>
              </div>
            </form>
            <div id="errormessage">
              <div id="showerrormessage" class="div-block-30"></div>
            </div>
            <div id="showSuccessfullMessage" class="f-success-message w-form-done">
              <div>Welcome back !</div>
            </div>
            <div id="showErrorMessage" class="w-form-fail">
              <div>Looks like your pass/email wrong</div>
            </div>
          </div>
          <p class="f-paragraph-small">Dont have an account? <a href="index.html" class="f-account-link">Register</a>
          </p>
          <p class="f-paragraph-small">Forgot your password? <a id="resetpass" href="#" class="f-account-link">Reset</a>
          </p>
        </div>
      </div>
    </div>
  </div>
  <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=63e534fd4f333d4f7f139aa2" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script src="js/webflow.js" type="text/javascript"></script>
  <!-- [if lte IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/placeholders/3.0.2/placeholders.min.js"></script><![endif] -->
  <script type="module">
    //LogIn
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.1.1/firebase-app.js";
    import { getFirestore } from "https://www.gstatic.com/firebasejs/9.1.1/firebase-firestore.js"
    import { collection, getDocs,doc, addDoc, Timestamp } from "https://www.gstatic.com/firebasejs/9.1.1/firebase-firestore.js"
    import { query, orderBy, limit, where, onSnapshot } from "https://www.gstatic.com/firebasejs/9.1.1/firebase-firestore.js"
    import { getAuth, signInWithEmailAndPassword, sendPasswordResetEmail } from "https://www.gstatic.com/firebasejs/9.1.1/firebase-auth.js";
    // TODO: Add SDKs for Firebase products that you want to use
    // Your web app's Firebase configuration
    const firebaseConfig = {
        apiKey: "AIzaSyDGrZtDS9lBiOA-KZIB61CC43KL2yEKlkk",
        authDomain: "green-waste-1d4dc.firebaseapp.com",
        databaseURL: "https://green-waste-1d4dc-default-rtdb.asia-southeast1.firebasedatabase.app",
        projectId: "green-waste-1d4dc",
        storageBucket: "green-waste-1d4dc.appspot.com",
        messagingSenderId: "465078550816",
        appId: "1:465078550816:web:54428ca9c48db03b99d745",
        measurementId: "G-YWHBNXLJVC"
    };
      // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db = getFirestore(app);
    $("#checkUser").click(function () {
        var email = $("#Email-Field-02").val();
        var password = $("#Password-Field-02").val();
        signInWithEmailAndPassword(auth, email, password)
            .then((userCredential) => {
                // Signed in
                const user = userCredential.user;
                // ... success message display
                redirectLogin(email);
            })
            .catch((error) => {
                const errorCode = error.code;
                const errorMessage = error.message;
               if(errorCode=='auth/wrong-password'){
               		$('#showerrormessage').text("Wrong email or password!");
               }else if(errorCode=='auth/user-not-found'){
              		$('#showerrormessage').text("Oops! User not found.");
               }else{
              		$('#showerrormessage').text(errorCode);
               }
               $('#showerrormessage').show();
            });
    });
    //const app = initializeApp(firebaseConfig);
  //  const auth = getAuth(app);
  $("#resetpass").click(function () {
    var email = $("#Email-Field-02").val();
     sendPasswordResetEmail(auth, email)
    .then(() => {
         alert("A password reset link has been sent to your email. Please check your inbox.");
    })
    .catch((error) => {
      var errorCode = error.code;
      var errorMessage = error.message;
      // ..
    });
  // [END auth_send_password_reset]
});
async function redirectLogin(loginedUserEmail) {
		const docRef = query(collection(db, "serviceProviders"), where("SP_email", "==", loginedUserEmail));
    const docSnap = await getDocs(docRef);
		if (docSnap.size > 0) {
   			 window.location.href = "./service-provider-profile"
 			} else  {
   			 window.location.href = "./profile-company";
 			 }
    }
</script>
</body>
</html>